{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchRecommendations,fetchMovieTitles}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieSearch=()=>{const[inputValue,setInputValue]=useState('');const[titles,setTitles]=useState([]);const[filteredTitles,setFilteredTitles]=useState([]);const[recommendations,setRecommendations]=useState([]);const[error,setError]=useState('');const[showSuggestions,setShowSuggestions]=useState(false);// Fetch movie titles from backend\nuseEffect(()=>{const loadTitles=async()=>{try{const titles=await fetchMovieTitles();setTitles(titles);}catch(error){setError('Error fetching movie titles.');}};loadTitles();},[]);// Filter titles based on input value\nuseEffect(()=>{if(inputValue){setFilteredTitles(titles.filter(title=>title.toLowerCase().includes(inputValue.toLowerCase())));setShowSuggestions(true);}else{setFilteredTitles([]);setShowSuggestions(false);}},[inputValue,titles]);// Handle input change\nconst handleInputChange=event=>{setInputValue(event.target.value);};// Handle suggestion click\nconst handleSuggestionClick=title=>{setInputValue(title);setShowSuggestions(false);};// Perform search based on the current input value\nconst handleSearch=async()=>{try{const data=await fetchRecommendations(inputValue);setRecommendations(data);setError('');}catch(error){setError('Error fetching recommendations.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Movie Recommender\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:handleInputChange,placeholder:\"Type to filter movies\",style:{width:'100%',padding:'8px',fontSize:'16px'}}),showSuggestions&&/*#__PURE__*/_jsx(\"ul\",{style:{position:'absolute',top:'100%',left:0,backgroundColor:'white',border:'1px solid #ccc',listStyleType:'none',padding:0,margin:0,width:'100%',maxHeight:'200px',overflowY:'auto',zIndex:1000},children:filteredTitles.map((title,index)=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleSuggestionClick(title),style:{padding:'8px',cursor:'pointer',borderBottom:'1px solid #ddd'},children:title},index))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,style:{padding:'10px 20px',fontSize:'16px'},children:\"Search\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px'},children:recommendations.length>0&&recommendations.map(movie=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:movie.title}),/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w500/\".concat(movie.poster_path),alt:movie.title,style:{width:'150px',height:'auto'}})]},movie.id))})]});};export default MovieSearch;","map":{"version":3,"names":["React","useState","useEffect","fetchRecommendations","fetchMovieTitles","jsx","_jsx","jsxs","_jsxs","MovieSearch","inputValue","setInputValue","titles","setTitles","filteredTitles","setFilteredTitles","recommendations","setRecommendations","error","setError","showSuggestions","setShowSuggestions","loadTitles","filter","title","toLowerCase","includes","handleInputChange","event","target","value","handleSuggestionClick","handleSearch","data","children","style","position","marginBottom","type","onChange","placeholder","width","padding","fontSize","top","left","backgroundColor","border","listStyleType","margin","maxHeight","overflowY","zIndex","map","index","onClick","cursor","borderBottom","color","marginTop","length","movie","src","concat","poster_path","alt","height","id"],"sources":["/Users/hamzehhussein/Desktop/app/MovieMatch/movie-match-frontend/src/components/MovieSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchRecommendations, fetchMovieTitles } from '../api';\n\nconst MovieSearch = () => {\n    const [inputValue, setInputValue] = useState('');\n    const [titles, setTitles] = useState([]);\n    const [filteredTitles, setFilteredTitles] = useState([]);\n    const [recommendations, setRecommendations] = useState([]);\n    const [error, setError] = useState('');\n    const [showSuggestions, setShowSuggestions] = useState(false);\n\n    // Fetch movie titles from backend\n    useEffect(() => {\n        const loadTitles = async () => {\n            try {\n                const titles = await fetchMovieTitles();\n                setTitles(titles);\n            } catch (error) {\n                setError('Error fetching movie titles.');\n            }\n        };\n\n        loadTitles();\n    }, []);\n\n    // Filter titles based on input value\n    useEffect(() => {\n        if (inputValue) {\n            setFilteredTitles(titles.filter(title =>\n                title.toLowerCase().includes(inputValue.toLowerCase())\n            ));\n            setShowSuggestions(true);\n        } else {\n            setFilteredTitles([]);\n            setShowSuggestions(false);\n        }\n    }, [inputValue, titles]);\n\n    // Handle input change\n    const handleInputChange = (event) => {\n        setInputValue(event.target.value);\n    };\n\n    // Handle suggestion click\n    const handleSuggestionClick = (title) => {\n        setInputValue(title);\n        setShowSuggestions(false);\n    };\n\n    // Perform search based on the current input value\n    const handleSearch = async () => {\n        try {\n            const data = await fetchRecommendations(inputValue);\n            setRecommendations(data);\n            setError('');\n        } catch (error) {\n            setError('Error fetching recommendations.');\n        }\n    };\n\n    return (\n        <div>\n            <h1>Movie Recommender</h1>\n            <div style={{ position: 'relative', marginBottom: '20px' }}>\n                <input\n                    type=\"text\"\n                    value={inputValue}\n                    onChange={handleInputChange}\n                    placeholder=\"Type to filter movies\"\n                    style={{ width: '100%', padding: '8px', fontSize: '16px' }}\n                />\n                {showSuggestions && (\n                    <ul style={{\n                        position: 'absolute',\n                        top: '100%',\n                        left: 0,\n                        backgroundColor: 'white',\n                        border: '1px solid #ccc',\n                        listStyleType: 'none',\n                        padding: 0,\n                        margin: 0,\n                        width: '100%',\n                        maxHeight: '200px',\n                        overflowY: 'auto',\n                        zIndex: 1000\n                    }}>\n                        {filteredTitles.map((title, index) => (\n                            <li\n                                key={index}\n                                onClick={() => handleSuggestionClick(title)}\n                                style={{\n                                    padding: '8px',\n                                    cursor: 'pointer',\n                                    borderBottom: '1px solid #ddd'\n                                }}\n                            >\n                                {title}\n                            </li>\n                        ))}\n                    </ul>\n                )}\n            </div>\n            <button onClick={handleSearch} style={{ padding: '10px 20px', fontSize: '16px' }}>Search</button>\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n            <div style={{ marginTop: '20px' }}>\n                {recommendations.length > 0 && recommendations.map((movie) => (\n                    <div key={movie.id} style={{ marginBottom: '20px' }}>\n                        <h2>{movie.title}</h2>\n                        <img\n                            src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n                            alt={movie.title}\n                            style={{ width: '150px', height: 'auto' }}\n                        />\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default MovieSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}