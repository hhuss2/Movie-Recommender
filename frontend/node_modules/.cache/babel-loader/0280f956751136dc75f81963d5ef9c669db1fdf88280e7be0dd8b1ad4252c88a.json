{"ast":null,"code":"// src/api.js\nconst BASE_URL='http://localhost:8000/movies';export const fetchMovieTitles=async()=>{const response=await fetch(\"\".concat(BASE_URL,\"/titles/\"));if(!response.ok){throw new Error('Error fetching movie titles');}const data=await response.json();return data;};export const fetchRecommendations=async(movieTitle,genre,minRating)=>{try{// Encode movie title and parameters\nconst encodedTitle=encodeURIComponent(movieTitle);const genreParam=genre?\"genre/\".concat(encodeURIComponent(genre)):'';const ratingParam=minRating?\"rating/\".concat(encodeURIComponent(minRating)):'';// Construct the URL\nconst baseUrl=\"http://localhost:8000/movies/recommend/\".concat(encodedTitle,\"/\");const url=genreParam&&ratingParam?\"\".concat(baseUrl).concat(genreParam,\"/\").concat(ratingParam,\"/\"):genreParam?\"\".concat(baseUrl).concat(genreParam,\"/\"):ratingParam?\"\".concat(baseUrl).concat(ratingParam,\"/\"):baseUrl;console.log('Fetching from:',url);// For debugging\nconst response=await fetch(url);if(!response.ok){throw new Error('Network response was not ok');}return await response.json();}catch(error){console.error('Error fetching recommendations:',error);throw error;}};","map":{"version":3,"names":["BASE_URL","fetchMovieTitles","response","fetch","concat","ok","Error","data","json","fetchRecommendations","movieTitle","genre","minRating","encodedTitle","encodeURIComponent","genreParam","ratingParam","baseUrl","url","console","log","error"],"sources":["/Users/hamzehhussein/Desktop/app/MovieMatch/movie-match-frontend/src/api.js"],"sourcesContent":["// src/api.js\n\nconst BASE_URL = 'http://localhost:8000/movies';\n\nexport const fetchMovieTitles = async () => {\n    const response = await fetch(`${BASE_URL}/titles/`);\n    if (!response.ok) {\n        throw new Error('Error fetching movie titles');\n    }\n    const data = await response.json();\n    return data;\n};\n\n\nexport const fetchRecommendations = async (movieTitle, genre, minRating) => {\n    try {\n        // Encode movie title and parameters\n        const encodedTitle = encodeURIComponent(movieTitle);\n        const genreParam = genre ? `genre/${encodeURIComponent(genre)}` : '';\n        const ratingParam = minRating ? `rating/${encodeURIComponent(minRating)}` : '';\n\n        // Construct the URL\n        const baseUrl = `http://localhost:8000/movies/recommend/${encodedTitle}/`;\n        const url = genreParam && ratingParam \n            ? `${baseUrl}${genreParam}/${ratingParam}/`\n            : genreParam \n                ? `${baseUrl}${genreParam}/`\n                : ratingParam\n                    ? `${baseUrl}${ratingParam}/`\n                    : baseUrl;\n\n        console.log('Fetching from:', url); // For debugging\n\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        return await response.json();\n    } catch (error) {\n        console.error('Error fetching recommendations:', error);\n        throw error;\n    }\n};\n\n"],"mappings":"AAAA;AAEA,KAAM,CAAAA,QAAQ,CAAG,8BAA8B,CAE/C,MAAO,MAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACxC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIJ,QAAQ,YAAU,CAAC,CACnD,GAAI,CAACE,QAAQ,CAACG,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAClD,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CACf,CAAC,CAGD,MAAO,MAAM,CAAAE,oBAAoB,CAAG,KAAAA,CAAOC,UAAU,CAAEC,KAAK,CAAEC,SAAS,GAAK,CACxE,GAAI,CACA;AACA,KAAM,CAAAC,YAAY,CAAGC,kBAAkB,CAACJ,UAAU,CAAC,CACnD,KAAM,CAAAK,UAAU,CAAGJ,KAAK,UAAAP,MAAA,CAAYU,kBAAkB,CAACH,KAAK,CAAC,EAAK,EAAE,CACpE,KAAM,CAAAK,WAAW,CAAGJ,SAAS,WAAAR,MAAA,CAAaU,kBAAkB,CAACF,SAAS,CAAC,EAAK,EAAE,CAE9E;AACA,KAAM,CAAAK,OAAO,2CAAAb,MAAA,CAA6CS,YAAY,KAAG,CACzE,KAAM,CAAAK,GAAG,CAAGH,UAAU,EAAIC,WAAW,IAAAZ,MAAA,CAC5Ba,OAAO,EAAAb,MAAA,CAAGW,UAAU,MAAAX,MAAA,CAAIY,WAAW,MACtCD,UAAU,IAAAX,MAAA,CACHa,OAAO,EAAAb,MAAA,CAAGW,UAAU,MACvBC,WAAW,IAAAZ,MAAA,CACJa,OAAO,EAAAb,MAAA,CAAGY,WAAW,MACxBC,OAAO,CAErBE,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEF,GAAG,CAAC,CAAE;AAEpC,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACe,GAAG,CAAC,CACjC,GAAI,CAAChB,QAAQ,CAACG,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAClD,CACA,MAAO,MAAM,CAAAJ,QAAQ,CAACM,IAAI,CAAC,CAAC,CAChC,CAAE,MAAOa,KAAK,CAAE,CACZF,OAAO,CAACE,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD,KAAM,CAAAA,KAAK,CACf,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}